---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import LogoWithName from "../assets/Emprevo-Logo-With-Name.png";
import LogoWithNameWhite from "../assets/Emprevo-Logo-With-Name-Color.png";
---

<nav class="z-50 transition-all duration-300 w-full" id="navbar">
  <div class="container mx-auto px-4 md:px-6">
    <div
      class="mx-auto rounded-full border border-white/10 bg-slate-950/60 backdrop-blur-xl transition-all duration-300 px-6 h-12 md:h-14 flex items-center justify-between"
      id="navbar-inner"
    >
      <!-- LOGO -->
      <a href="/" class="flex items-center gap-3 group relative">
        <Image
          src={LogoWithName}
          alt="Logo"
          class="w-24 transition-opacity duration-300"
          id="logo-dark"
        />
        <Image
          src={LogoWithNameWhite}
          alt="Logo"
          class="w-24 absolute top-0 left-0 opacity-0 transition-opacity duration-300"
          id="logo-white"
        />
      </a>

      <!-- DESKTOP MENU -->
      <div class="hidden md:flex items-center gap-6">
        {
          ["Inicio", "Servicios", "Productos", "Nosotros"].map((item) => (
            <a
              href={`#${item.toLowerCase()}`}
              class="relative text-xs font-bold uppercase tracking-wider transition-colors py-2 group/link"
            >
              {item}
              <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-600 transition-all duration-300 group-hover/link:w-full" />
            </a>
          ))
        }

        <a
          href="#contacto"
          class="relative overflow-hidden px-4 py-2 rounded-full bg-[#083344] text-white text-sm font-bold hover:bg-[#164e63] transition-all active:scale-95"
        >
          <div class="relative z-10 text-white">Contacto</div>
          <div
            class="absolute inset-0 -translate-x-full group-hover/btn:translate-x-full transition-transform duration-700 bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12"
          >
          </div>
        </a>
      </div>

      <!-- MOBILE MENU BUTTON -->
      <button
        class="md:hidden text-slate-300 hover:text-white transition-colors"
        id="menuToggle"
      >
        <Icon name="lucide:menu" size={24} />
      </button>
    </div>
  </div>
</nav>

<script>
  const navbar = document.getElementById("navbar");
  const navbarInner = document.getElementById("navbar-inner");

  window.addEventListener("scroll", () => {
    if (window.scrollY > 100) {
      navbarInner?.classList.add(
        "bg-slate-950/80",
        "backdrop-blur-2xl",
        "shadow-cyan-900/10",
      );
      navbar?.classList.add("py-0");
      // Make it full width on scroll if desired, or keep it floating
    } else {
      navbarInner?.classList.remove(
        "bg-slate-950/80",
        "backdrop-blur-2xl",
        "shadow-cyan-900/10",
      );
      navbar?.classList.remove("py-0");
    }
  });

  // Simple mobile menu logic (could be expanded)
  const menuToggle = document.getElementById("menuToggle");
  menuToggle?.addEventListener("click", () => {
    // Mobile menu logic here
    alert(
      "Mobile menu clicked - Implementation pending full mobile menu overlay",
    );
  });
</script>
